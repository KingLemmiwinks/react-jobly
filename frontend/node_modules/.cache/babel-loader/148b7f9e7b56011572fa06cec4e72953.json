{"ast":null,"code":"import axios from \"axios\";\nexport default class JoblyApi {\n  static async request(endpoint, paramsOrData = {}, verb = \"get\") {\n    paramsOrData._token =\n    // for now, hardcode token for \"testing\"\n    \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc\" + \"3RpbmciLCJpc19hZG1pbiI6ZmFsc2UsImlhdCI6MTU1MzcwMzE1M30.\" + \"COmFETEsTxN_VfIlgIKw0bYJLkvbRQNgO1XCSE8NZ0U\";\n    console.debug(\"API Call:\", endpoint, paramsOrData, verb);\n    try {\n      return (await axios({\n        method: verb,\n        url: `http://localhost:3001/${endpoint}`,\n        [verb === \"get\" ? \"params\" : \"data\"]: paramsOrData\n      })).data;\n      // axios sends query string data via the \"params\" key,\n      // and request body data via the \"data\" key,\n      // so the key we need depends on the HTTP verb\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n  static async getCompany(handle) {\n    let res = await this.request(`companies/${handle}`);\n    return res.company;\n  }\n}","map":{"version":3,"names":["axios","JoblyApi","request","endpoint","paramsOrData","verb","_token","console","debug","method","url","data","err","error","response","message","Array","isArray","getCompany","handle","res","company"],"sources":["/home/lemmiwinks/react-jobly/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default class JoblyApi {\n  static async request(endpoint, paramsOrData = {}, verb = \"get\") {\n    paramsOrData._token = // for now, hardcode token for \"testing\"\n      \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc\" +\n      \"3RpbmciLCJpc19hZG1pbiI6ZmFsc2UsImlhdCI6MTU1MzcwMzE1M30.\" +\n      \"COmFETEsTxN_VfIlgIKw0bYJLkvbRQNgO1XCSE8NZ0U\";\n\n    console.debug(\"API Call:\", endpoint, paramsOrData, verb);\n\n    try {\n      return (\n        await axios({\n          method: verb,\n          url: `http://localhost:3001/${endpoint}`,\n          [verb === \"get\" ? \"params\" : \"data\"]: paramsOrData,\n        })\n      ).data;\n      // axios sends query string data via the \"params\" key,\n      // and request body data via the \"data\" key,\n      // so the key we need depends on the HTTP verb\n    } catch (err) {\n      console.error(\"API Error:\", err.response);\n      let message = err.response.data.message;\n      throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  static async getCompany(handle) {\n    let res = await this.request(`companies/${handle}`);\n    return res.company;\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,eAAe,MAAMC,QAAQ,CAAC;EAC5B,aAAaC,OAAOA,CAACC,QAAQ,EAAEC,YAAY,GAAG,CAAC,CAAC,EAAEC,IAAI,GAAG,KAAK,EAAE;IAC9DD,YAAY,CAACE,MAAM;IAAG;IACpB,4DAA4D,GAC5D,yDAAyD,GACzD,6CAA6C;IAE/CC,OAAO,CAACC,KAAK,CAAC,WAAW,EAAEL,QAAQ,EAAEC,YAAY,EAAEC,IAAI,CAAC;IAExD,IAAI;MACF,OAAO,CACL,MAAML,KAAK,CAAC;QACVS,MAAM,EAAEJ,IAAI;QACZK,GAAG,EAAG,yBAAwBP,QAAS,EAAC;QACxC,CAACE,IAAI,KAAK,KAAK,GAAG,QAAQ,GAAG,MAAM,GAAGD;MACxC,CAAC,CAAC,EACFO,IAAI;MACN;MACA;MACA;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZL,OAAO,CAACM,KAAK,CAAC,YAAY,EAAED,GAAG,CAACE,QAAQ,CAAC;MACzC,IAAIC,OAAO,GAAGH,GAAG,CAACE,QAAQ,CAACH,IAAI,CAACI,OAAO;MACvC,MAAMC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,GAAGA,OAAO,GAAG,CAACA,OAAO,CAAC;IACpD;EACF;EAEA,aAAaG,UAAUA,CAACC,MAAM,EAAE;IAC9B,IAAIC,GAAG,GAAG,MAAM,IAAI,CAAClB,OAAO,CAAE,aAAYiB,MAAO,EAAC,CAAC;IACnD,OAAOC,GAAG,CAACC,OAAO;EACpB;AACF"},"metadata":{},"sourceType":"module"}